---
marp: false
title: lerna is dead
description: lerna is dead
authors: tsei
image: https://i.imgur.com/6UnWoQY.jpg
hide_table_of_contents: false
tags: [Monorepo, lerna, npm, yarn, changesets, rushstack, turborepo, nx, ]
---

# lerna is dead

<!--truncate-->

æœ€è¿‘npmã‚„ã€yarnå‘¨ã‚Šã§ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã‚‹ã®ã§ã™ãŒã€
lerna@4.0.0 (2021-02-10)ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã‹ã‚‰ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
lernaã¯yarn2ä»¥ä¸Šã§ã¯å‹•ã‹ãªã„ã“ã¨ãŒå¤šã„ã‚‰ã—ãã€yarnã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ€–ãã¦ä¸Šã’ã‚‰ã‚Œãªã„ã§ã„ã¾ã—ãŸã€‚

ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ã®æ–¹ã®[Tweet][Tweet]ã‚„ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹ã¨ã€OSSã‚’ã‚„ã‚ã¦ã—ã¾ã£ãŸã‚‰ã—ã„ã§ã™ã€‚
(ä»£æ›¿æ¡ˆã‚’è¦‹ã‚‹ã¨ã€ä»–ãŒã“ãã£ã¦ä½œã£ã¦ã„ã‚‹ã®ã§ã€ã‚„ã‚ãŸããªã‚‹ã®ã‚‚ã‚ã‹ã‚‹æ°—ãŒã—ã¾ã™ã€‚)
ãªã®ã§ã€ç§»è¡Œå…ˆã‚’æ¤œè¨ã—ã¾ã™ã€‚

> Front-End Engineer, burned out OSS maintainer,
> and Oxford comma enthusiast. He/him. Black Lives Matter.

æœªã ã«å¤šãã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãŒlernaã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒã€[Issue #2703][#2703]ã«ã‚ˆã‚‹ã¨ã€
babelã¯forkã—ã¦ä½¿ã£ã¦ãŸlernaã‚’ã‚„ã‚ã€yarnã§ç®¡ç†ã™ã‚‹ã‚‰ã—ã„ã§ã™ã€‚

> TIL that babel replaced lerna with a custom yarn plugin
> to manage releases in PR [babel/babel#12138][#12138] in Oct 2020.

- [Lerna is largely unmaintained Â· Issue #2703 Â· lerna/lerna][#2703]
- [Is this project dead? Â· Issue #3062 Â· lerna/lerna][#3062]

## [@changesets/cli vs @microsoft/rush vs @nrwl/workspace vs turbo][npmtrends]

- [changesets/changesets: ğŸ¦‹ A way to manage your versioning and changelogs with a focus on monorepos][changesets]
- [microsoft/rushstack: Monorepo for tools developed by the Rush Stack community][rushstack]
- [vercel/turborepo: The High-performance Build System for JavaScript & TypeScript Codebases][turborepo]
- [nrwl/nx: Smart, Fast and Extensible Build System][nx]

## [npm workspace][workspace]

yarn workspace ã‚„ npm workspace ã®ã¿ã§ monorepo ã‚’ç®¡ç†ã™ã‚‹æ–¹æ³•ã§ã™ã€‚

## [changesets][changesets]

Atlassianç¤¾è¬¹è£½ã§ã™ã€‚[Issue #2703][#2703]ã§è¨€åŠã•ã‚Œã¦ã„ã¾ã—ãŸã€‚
ã‚‚ã¨ã¯AtrassionãŒsemantic-releaseã‹ã‚‰forkã—ãŸã®ã‚’ã€lernaãƒ™ãƒ¼ã‚¹ã«ä½œã‚Šã‹ãˆã‚‹ã‚‰ã—ã„ã§ã™ã€‚

## [rushstack][rushstack]

Microsoftç¤¾è¬¹è£½ã§ã™ã€‚ChangeLogãŒã„ã„æ„Ÿã˜ã«ãªã‚‹ã‚‰ã—ã„ã§ã™ã€‚

## [turborepo][turborepo]

vercelç¤¾è¬¹è£½ã§ã™ã€‚ã„ã„æ„Ÿã˜ã«ã—ã¦ãã‚Œã‚‹ã‚‰ã—ã„ã§ã™ã€‚

- `npx create-turbo@latest`ã§ã¯ã˜ã‚ã‚‰ã‚Œã¾ã™ã€‚

## [nx][nx]

nrwlç¤¾è¬¹è£½ã§ã™ã€‚ã»ã‹ã‚‚ã„ã„æ„Ÿã˜ã«ã—ã¦ãã‚Œã‚‹ã‚‰ã—ã„ã§ã™ã€‚

- `npx create-nx-workspace@latest --preset=core`ã§ã¯ã˜ã‚ã‚‰ã‚Œã¾ã™ã€‚
- `npx add-nx-to-monorepo`ã§æ—¢å­˜ã®repoã«ã‚‚è¿½åŠ ã§ãã¾ã™ã€‚

## çµè«–

monorepoã«ã‚‚toolchainã®æ „æ¯ç››è¡°ãŒæ—©ãã¦æ‚²ã—ããªã‚‹ã®ã§ã€
ã¨ã‚Šã‚ãˆãš `lerna` ã§ã¯ã˜ã‚ã€
ãã®ã†ã¡lernaãŒå®Œå…¨ã«ãƒ€ãƒ¡ã«ãªã‚Œã° `changesets`ã€
ã‚‚ã®ãƒ¬ãƒã®è¦æ¨¡ãŒå¤§ãããªã‚Œã°ã€`Bazel` ã§ãã‚ãˆã‚‹å½¢ã«ã—ã¾ã—ãŸã€‚
Googleã‚’ä¿¡ã˜ã‚ã€ Believe Google

[#3062]: https://github.com/lerna/lerna/issues/3062
[#2703]: https://github.com/lerna/lerna/issues/2703
[#12138]: https://github.com/babel/babel/pull/12138
[Tweet]: https://mobile.twitter.com/evocateur/status/1483311321860886530
[workspace]: https://docs.npmjs.com/cli/v8/commands/npm-version#workspace
[changesets]: https://github.com/atlassian/changesets
[rushstack]: https://github.com/microsoft/rushstack
[turborepo]: https://github.com/vercel/turborepo
[nx]: https://github.com/nrwl/nx
[npmtrends]: https://www.npmtrends.com/@changesets/cli-vs-@microsoft/rush-vs-@nrwl/workspace-vs-turbo
