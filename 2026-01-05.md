---
title: Bulk Redirects with Hono'
description: 'Domain migration 301 redirect validation errors were occurring in Google Search Console, so we implemented a Hono-based redirect service on Cloudflare Workers instead of using Cloudflare Bulk Redirects.'
image: https://github.com/tseijp.png
tags: [hono, cloudflare, workers, google, typescript]
date: 2026-01-05
---

# Bulk Redirects with Hono

Domain migration 301 redirect validation errors were occurring in Google Search Console, so we implemented a Hono-based redirect service on Cloudflare Workers instead of using Cloudflare Bulk Redirects.

## Problem

The "Change of Address" screen in Google Search Console showed "couldn't fetch page" errors, preventing domain migration completion for an extended period.

![ç¢ºèªã‚¨ãƒ©ãƒ¼:1 ä»¶ä»¥ä¸Šã®å¿…é ˆã®ãƒ†ã‚¹ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç¶šè¡Œã§ãã¾ã›ã‚“ã€‚å¿…é ˆã€‚âŒ ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‹ã‚‰ã® 301 ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã€‚ãƒšãƒ¼ã‚¸ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚âœ… ä¸¡æ–¹ã®ã‚µã‚¤ãƒˆã®ç¢ºèªã€‚æ‰€æœ‰æ¨©ã‚’è¨¼æ˜ã—ã¾ã—ãŸã€‚ã“ã®ã‚µã‚¤ãƒˆã€‚æ–°ã—ã„ã‚µã‚¤ãƒˆã€‚æ¨å¥¨ã€‚âš ï¸ ã‚µãƒ³ãƒ—ãƒ«ãƒšãƒ¼ã‚¸ã‹ã‚‰ã® 301 ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã€‚ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ](https://r.tsei.jp/note/2026-01-05/0.jpg)

## Solution

A Hono application deployed on Cloudflare Workers that provides 301 redirects. This implementation allows Google Search Console to successfully validate the domain migration.

## Project Creation

```rb
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ > % npm create hono                                        â”‚
â”‚                                                            â”‚
â”‚   > npx                                                    â”‚
â”‚   > create-hono                                            â”‚
â”‚                                                            â”‚
â”‚   create-hono version 0.19.4                               â”‚
â”‚   âœ” Target directory redirector                            â”‚
â”‚   âœ” Which template do you want to use? cloudflare-workers  â”‚
â”‚   âœ” Do you want to install project dependencies? No        â”‚
â”‚   âœ” Cloning the template                                   â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

Select cloudflare-workers template.

## Configuration

Edit DOMAIN in src/index.ts to set your destination domain.

```ts
import { Hono } from 'hono'

const DOMAIN = 'glre.dev'

const app = new Hono()

app.all('*', (c) => {
        const { pathname, search } = new URL(c.req.url)
        return c.redirect(`https://${DOMAIN}${pathname}${search}`, 301)
})

export default app
```

## Cloudflare Deployment

```bash
npx wrangler login
```

### 2. Deploy

```bash
npm run deploy
```

Then configure the custom domain through the Cloudflare Workers console.

## Verification

Test the redirect:

```bash
curl -I https://glre.tsei.jp/
# HTTP/2 301
```

After deployment, simply navigate to Google Search Console â†’ Settings â†’ Change of Address and select your new domain to complete the migration ğŸ‰

![ã“ã®ã‚µã‚¤ãƒˆã¯ç¾åœ¨ç§»è¡Œä¸­ã§ã™ã€‚ã“ã®ã‚µã‚¤ãƒˆã€‚æ–°ã—ã„ã‚µã‚¤ãƒˆã€‚é–‹å§‹æ—¥](https://r.tsei.jp/note/2026-01-05/1.jpg)
